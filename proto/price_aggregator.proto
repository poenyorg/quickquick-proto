syntax = "proto3";
package price_aggregator;

service PriceAggregator {
    rpc SubscribePrices(RequestPrices) returns (stream StreamPriceReply);
}

message RequestPrices {
    repeated uint32 market_ids = 1;
}

message StreamPriceReply {
    uint32 market_id = 1;
    int64 price = 2;
    int64 event_time = 3;
    uint32 source = 4;
}
